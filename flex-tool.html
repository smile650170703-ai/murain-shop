<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <title>MURAIN LINE Flex Message è¨­è¨ˆå¸«</title>
  <!-- Tailwind CSS (åªçµ¦é€™å€‹å·¥å…·é ç”¨ï¼Œä¸æœƒå½±éŸ¿ä½ çš„å¾Œå°) -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <!-- React + ReactDOM + Babel (åªç”¨åœ¨é€™å€‹å·¥å…·é ) -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    body { background-color: #f3f4f6; }
    .animate-fade-in {
      animation: fade-in 0.25s ease-out;
    }
    @keyframes fade-in {
      from { opacity: 0; transform: translateY(4px); }
      to   { opacity: 1; transform: translateY(0); }
    }
  </style>
  <meta name="robots" content="noindex, nofollow">
</head>
<body class="h-screen">
  <div id="root" class="h-full"></div>
<!-- ğŸ”’ å·¥å…·é å°ˆç”¨ï¼šOP å¯†ç¢¼æª¢æŸ¥ -->
<script>
  (function () {
    // å¾Œç«¯ API ä½å€ï¼ˆå’Œä½ å…¶ä»–é ä¸€æ¨£ï¼Œç”¨ api.murain.twï¼‰
    const API = (window.API_BASE || 'https://api.murain.tw').replace(/\/$/, '');

    // å…©å€‹å¯èƒ½å­˜ OP çš„ localStorage key
    const STORAGE_KEYS = ['MURAIN_ADMIN_OP_KEY', 'OP_KEY'];

    function loadOpKey() {
      for (const k of STORAGE_KEYS) {
        const v = localStorage.getItem(k);
        if (v) return v;
      }
      return '';
    }

    function saveOpKey(v) {
      STORAGE_KEYS.forEach(k => localStorage.setItem(k, v));
    }

    async function ensureOpKeyForTool() {
      let opKey = loadOpKey();
      if (opKey) return; // å·²ç¶“ç™»å…¥éå°±ä¸å†è©¢å•

      while (!opKey) {
        const input = prompt('è«‹è¼¸å…¥ç®¡ç†å¯†ç¢¼ (OP_KEY)');
        if (!input) {
          alert('æ²’æœ‰å¯†ç¢¼å°±ç„¡æ³•ä½¿ç”¨é€™å€‹å·¥å…·');
          continue;
        }

        try {
          const res = await fetch(`${API}/op/auth`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ op_key: input })
          });
          const data = await res.json();
          if (!res.ok || !data.ok) {
            alert('å¯†ç¢¼éŒ¯èª¤ï¼Œè«‹å†è©¦ä¸€æ¬¡');
            continue;
          }

          opKey = input;
          saveOpKey(opKey); // åŒæ™‚å¯«å…¥å…©å€‹ keyï¼Œä¹‹å¾Œ admin / é–‹å–®é éƒ½èªå¾—
        } catch (e) {
          console.error(e);
          alert('é©—è­‰å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦');
        }
      }
    }

    // ç­‰æ•´å€‹é é¢è¼‰å…¥å¾Œå†æª¢æŸ¥
    window.addEventListener('DOMContentLoaded', ensureOpKeyForTool);
  })();
</script>

  <script type="text/babel">
    const { useState, useEffect } = React;

    const FlexMessageTool = () => {
      const [activeTab, setActiveTab] = useState('shipping');
      const [copied, setCopied] = useState(false);

      // æ¨¡æ“¬æ•¸æ“š State
      const [formData, setFormData] = useState({
        name: 'é™³å°å§',
        orderId: 'OD1764831785892',
        amount: '5,000',
        trackingNumber: 'K70932016700',
        storeName: '7-11 æ•¦å—é–€å¸‚',
        failReason: 'é¡åº¦ä¸è¶³',
        meetupLocation: 'å°åŒ—å¸‚å¤§å®‰å€å¿ å­æ±è·¯å››æ®µ'
      });

      // æ›´æ–°æ•¸æ“šè™•ç†
      const handleInputChange = (e) => {
        const { name, value } = e.target;
        setFormData(prev => ({ ...prev, [name]: value }));
      };

      // ç”Ÿæˆ JSON çš„æ ¸å¿ƒé‚è¼¯ï¼ˆä¹‹å¾Œä½ è¦è²¼åˆ°å¾Œç«¯ç¨‹å¼çš„å°±æ˜¯é€™å€‹ JSONï¼‰
      const generateJSON = (type) => {
        const brandColor = "#A18E68"; // è³ªæ„Ÿé‡‘æ£•è‰²

        if (type === 'shipping') {
          return {
            type: "bubble",
            hero: {
              type: "image",
              url: "https://images.unsplash.com/photo-1599651783457-4ba4999a093b?ixlib=rb-4.0.3&auto=format&fit=crop&w=700&q=80",
              size: "full",
              aspectRatio: "20:13",
              aspectMode: "cover",
              action: { type: "uri", uri: "https://murain.tw" }
            },
            body: {
              type: "box",
              layout: "vertical",
              contents: [
                {
                  type: "text",
                  text: "SHIPMENT SENT",
                  weight: "bold",
                  color: brandColor,
                  size: "xs",
                  letterSpacing: "2px"
                },
                {
                  type: "text",
                  text: "æ‚¨çš„è¨‚å–®å·²å‡ºè²¨",
                  weight: "bold",
                  size: "xl",
                  margin: "md",
                  color: "#111111"
                },
                {
                  type: "text",
                  text: `Dear ${formData.name}ï¼Œæ‚¨çš„ç¾å¥½é¸ç‰©å·²ç¶“è¸ä¸Šæ—…ç¨‹ã€‚`,
                  size: "sm",
                  color: "#666666",
                  margin: "sm",
                  wrap: true
                },
                {
                  type: "separator",
                  margin: "lg",
                  color: "#E0E0E0"
                },
                {
                  type: "box",
                  layout: "vertical",
                  margin: "lg",
                  spacing: "sm",
                  contents: [
                    {
                      type: "box",
                      layout: "baseline",
                      spacing: "sm",
                      contents: [
                        { type: "text", text: "è¨‚å–®ç·¨è™Ÿ", color: "#aaaaaa", size: "sm", flex: 2 },
                        { type: "text", text: formData.orderId, wrap: true, color: "#333333", size: "sm", flex: 4 }
                      ]
                    },
                    {
                      type: "box",
                      layout: "baseline",
                      spacing: "sm",
                      contents: [
                        { type: "text", text: "ç‰©æµå–®è™Ÿ", color: "#aaaaaa", size: "sm", flex: 2 },
                        { type: "text", text: formData.trackingNumber, wrap: true, color: "#333333", size: "sm", flex: 4 }
                      ]
                    },
                    {
                      type: "box",
                      layout: "baseline",
                      spacing: "sm",
                      contents: [
                        { type: "text", text: "å–è²¨åœ°é»", color: "#aaaaaa", size: "sm", flex: 2 },
                        { type: "text", text: formData.storeName, wrap: true, color: "#333333", size: "sm", flex: 4 }
                      ]
                    }
                  ]
                }
              ]
            },
            footer: {
              type: "box",
              layout: "vertical",
              spacing: "sm",
              contents: [
                {
                  type: "button",
                  style: "primary",
                  height: "sm",
                  action: { type: "uri", label: "æŸ¥è©¢ç‰©æµé€²åº¦", uri: "https://murain.tw" },
                  color: "#111111"
                },
                {
                  type: "button",
                  style: "link",
                  height: "sm",
                  action: { type: "uri", label: "æŸ¥çœ‹è¨‚å–®è©³æƒ…", uri: "https://murain.tw" },
                  color: "#666666"
                }
              ]
            }
          };
        } else if (type === 'payment_fail') {
          return {
            type: "bubble",
            body: {
              type: "box",
              layout: "vertical",
              contents: [
                {
                  type: "text",
                  text: "ACTION REQUIRED",
                  weight: "bold",
                  color: "#D9534F",
                  size: "xs",
                  letterSpacing: "1px"
                },
                {
                  type: "text",
                  text: "ä»˜æ¬¾æœªèƒ½æˆåŠŸ",
                  weight: "bold",
                  size: "xl",
                  margin: "md",
                  color: "#111111"
                },
                {
                  type: "text",
                  text: `Dear ${formData.name}ï¼Œè¨‚å–® ${formData.orderId} çš„åˆ†æœŸå¯©æ ¸æœªé€šéã€‚`,
                  size: "sm",
                  color: "#666666",
                  margin: "sm",
                  wrap: true
                },
                {
                  type: "box",
                  layout: "vertical",
                  margin: "lg",
                  backgroundColor: "#F8F8F8",
                  contents: [
                    {
                      type: "box",
                      layout: "baseline",
                      spacing: "sm",
                      contents: [
                        { type: "text", text: "é‡‘é¡", color: "#aaaaaa", size: "sm", flex: 1 },
                        { type: "text", text: `NT$ ${formData.amount}`, wrap: true, color: "#111111", size: "lg", flex: 3, weight: "bold" }
                      ]
                    },
                    {
                      type: "box",
                      layout: "baseline",
                      spacing: "sm",
                      margin: "sm",
                      contents: [
                        { type: "text", text: "åŸå› ", color: "#aaaaaa", size: "sm", flex: 1 },
                        { type: "text", text: formData.failReason, wrap: true, color: "#333333", size: "sm", flex: 3 }
                      ]
                    }
                  ]
                }
              ]
            },
            footer: {
              type: "box",
              layout: "vertical",
              spacing: "sm",
              contents: [
                {
                  type: "button",
                  style: "primary",
                  height: "sm",
                  action: { type: "uri", label: "æ›´æ›ä»˜æ¬¾æ–¹å¼", uri: "https://murain.tw" },
                  color: "#111111"
                },
                {
                  type: "button",
                  style: "secondary",
                  height: "sm",
                  action: { type: "uri", label: "è¯ç¹«ç·šä¸Šå®¢æœ", uri: "https://line.me/R/ti/p/@yourid" },
                  color: "#E0E0E0"
                }
              ]
            }
          };
        } else {
          // é¢äº¤é ç´„
          return {
            type: "bubble",
            body: {
              type: "box",
              layout: "vertical",
              contents: [
                {
                  type: "text",
                  text: "INVITATION",
                  weight: "bold",
                  color: brandColor,
                  size: "xs",
                  letterSpacing: "2px",
                  align: "center"
                },
                {
                  type: "text",
                  text: "å°ˆå±¬é¢äº¤é ç´„",
                  weight: "bold",
                  size: "xl",
                  margin: "md",
                  color: "#111111",
                  align: "center"
                },
                {
                  type: "separator",
                  margin: "lg",
                  color: "#E0E0E0"
                },
                {
                  type: "text",
                  text: `Dear ${formData.name}ï¼Œæˆ‘å€‘å·²ç‚ºæ‚¨ä¿ç•™å•†å“ï¼ŒæœŸå¾…èˆ‡æ‚¨è¦‹é¢ã€‚`,
                  size: "sm",
                  color: "#666666",
                  margin: "lg",
                  wrap: true,
                  align: "center"
                },
                {
                  type: "box",
                  layout: "vertical",
                  margin: "xl",
                  spacing: "sm",
                  contents: [
                    {
                      type: "box",
                      layout: "baseline",
                      spacing: "sm",
                      contents: [
                        { type: "text", text: "å–®è™Ÿ", color: "#aaaaaa", size: "sm", flex: 2 },
                        { type: "text", text: formData.orderId, wrap: true, color: "#333333", size: "sm", flex: 5 }
                      ]
                    },
                    {
                      type: "box",
                      layout: "baseline",
                      spacing: "sm",
                      contents: [
                        { type: "text", text: "åœ°é»", color: "#aaaaaa", size: "sm", flex: 2 },
                        { type: "text", text: formData.meetupLocation, wrap: true, color: "#333333", size: "sm", flex: 5 }
                      ]
                    }
                  ]
                }
              ]
            },
            footer: {
              type: "box",
              layout: "vertical",
              spacing: "sm",
              contents: [
                {
                  type: "button",
                  style: "primary",
                  height: "sm",
                  action: { type: "uri", label: "ç¢ºèªé ç´„æ™‚é–“", uri: "https://murain.tw" },
                  color: "#A18E68"
                },
                {
                  type: "button",
                  style: "link",
                  height: "sm",
                  action: { type: "uri", label: "é–‹å•Ÿå°èˆª", uri: "https://maps.google.com" },
                  color: "#999999"
                }
              ]
            }
          };
        }
      };

      const currentJSON = generateJSON(activeTab);

      const handleCopy = () => {
        navigator.clipboard.writeText(JSON.stringify(currentJSON, null, 2));
        setCopied(true);
        setTimeout(() => setCopied(false), 2000);
      };

      return (
        <div className="flex flex-col h-screen bg-gray-100 font-sans text-gray-800">
          {/* Header */}
          <div className="bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center shadow-sm z-10">
            <div>
              <h1 className="text-xl font-bold tracking-tight text-gray-900">LINE Flex Message è¨­è¨ˆå¸«</h1>
              <p className="text-sm text-gray-500">å°ˆç‚º MURAIN é«˜ç´šé›»å•†è¨­è¨ˆçš„è¨Šæ¯æ¨¡ç‰ˆï¼ˆå¤–éƒ¨å·¥å…·ï¼Œå¾Œå°å®Œå…¨ä¸æ”¹ï¼‰</p>
            </div>
            <div className="flex space-x-2">
              <div className="bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-xs font-medium">
                é–‹ç™¼è€…å¤–éƒ¨å·¥å…·
              </div>
            </div>
          </div>

          <div className="flex flex-1 overflow-hidden">
            {/* å·¦å´ï¼šæ§åˆ¶èˆ‡è¼¸å…¥ */}
            <div className="w-1/3 bg-white border-r border-gray-200 overflow-y-auto p-6 flex flex-col">
              {/* Tab åˆ‡æ› */}
              <div className="flex p-1 bg-gray-100 rounded-lg mb-8">
                <button
                  onClick={() => setActiveTab('shipping')}
                  className={`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-all duration-200 flex items-center justify-center gap-2 ${
                    activeTab === 'shipping' ? 'bg-white shadow-sm text-gray-900' : 'text-gray-500 hover:text-gray-700'
                  }`}
                >
                  <span>ğŸ“¦</span> å‡ºè²¨é€šçŸ¥
                </button>
                <button
                  onClick={() => setActiveTab('payment_fail')}
                  className={`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-all duration-200 flex items-center justify-center gap-2 ${
                    activeTab === 'payment_fail' ? 'bg-white shadow-sm text-gray-900' : 'text-gray-500 hover:text-gray-700'
                  }`}
                >
                  <span>âš ï¸</span> ä»˜æ¬¾å¤±æ•—
                </button>
                <button
                  onClick={() => setActiveTab('meetup')}
                  className={`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-all duration-200 flex items-center justify-center gap-2 ${
                    activeTab === 'meetup' ? 'bg-white shadow-sm text-gray-900' : 'text-gray-500 hover:text-gray-700'
                  }`}
                >
                  <span>ğŸ“…</span> é¢äº¤é ç´„
                </button>
              </div>

              {/* è¡¨å–®è¼¸å…¥ */}
              <div className="space-y-4 flex-1">
                <h3 className="text-sm font-bold text-gray-900 uppercase tracking-wider mb-2">æ¨¡æ“¬æ•¸æ“šè¼¸å…¥</h3>

                <div className="grid grid-cols-2 gap-4">
                  <InputGroup label="é¡§å®¢å§“å" name="name" value={formData.name} onChange={handleInputChange} />
                  <InputGroup label="è¨‚å–®ç·¨è™Ÿ" name="orderId" value={formData.orderId} onChange={handleInputChange} />
                </div>

                <InputGroup label="è¨‚å–®é‡‘é¡" name="amount" value={formData.amount} onChange={handleInputChange} prefix="NT$" />

                {activeTab === 'shipping' && (
                  <>
                    <InputGroup label="ç‰©æµå–®è™Ÿ" name="trackingNumber" value={formData.trackingNumber} onChange={handleInputChange} />
                    <InputGroup label="å–è²¨é–€å¸‚" name="storeName" value={formData.storeName} onChange={handleInputChange} />
                  </>
                )}

                {activeTab === 'payment_fail' && (
                  <InputGroup label="å¤±æ•—åŸå› " name="failReason" value={formData.failReason} onChange={handleInputChange} />
                )}

                {activeTab === 'meetup' && (
                  <InputGroup label="é¢äº¤åœ°é»" name="meetupLocation" value={formData.meetupLocation} onChange={handleInputChange} />
                )}

                <div className="mt-8 p-4 bg-gray-50 rounded-lg border border-gray-200 text-sm text-gray-600">
                  <p className="font-bold mb-1">ğŸ’¡ é–‹ç™¼è€…æç¤ºï¼š</p>
                  <p>
                    åœ¨ä½ çš„å¾Œç«¯ç¨‹å¼è£¡ï¼Œåªè¦æŠŠå³å´ JSON è²¼é€²å»ï¼Œä¸¦æŠŠ
                    <code className="mx-1 text-xs bg-gray-200 px-1 rounded">{formData.name}</code>
                    é€™äº›å­—ä¸²æ”¹æˆ
                    <code className="mx-1 text-xs bg-gray-200 px-1 rounded">${'{customerName}'}</code>
                    é€™ç¨®è®Šæ•¸å°±å¥½ã€‚
                  </p>
                </div>
              </div>
            </div>

            {/* ä¸­é–“ï¼šæ‰‹æ©Ÿé è¦½ */}
            <div className="w-1/3 bg-gray-100 flex items-center justify-center p-8 border-r border-gray-200">
              <div className="w-[320px] h-[640px] bg-white rounded-[3rem] border-[8px] border-gray-800 shadow-2xl overflow-hidden relative">
                {/* Mobile Header */}
                <div className="absolute top-0 w-full h-8 bg-gray-800 flex items-center justify-center z-20">
                  <div className="w-16 h-4 bg-black rounded-b-xl"></div>
                </div>
                <div className="w-full h-12 bg-[#2d334b] flex items-end pb-2 px-4 justify-between z-10 relative text-white">
                  <span className="text-sm font-bold">MURAIN</span>
                  <div className="flex gap-1">
                    <div className="w-1 h-1 bg-white rounded-full"></div>
                    <div className="w-1 h-1 bg-white rounded-full"></div>
                  </div>
                </div>

                {/* Chat Area */}
                <div className="w-full h-full bg-[#708090] pt-4 px-3 overflow-y-auto pb-20">
                  <div className="text-center text-xs text-white/60 mb-4">ä»Šå¤© 14:32</div>

                  <div className="flex gap-2">
                    <div className="w-8 h-8 rounded-full bg-gray-300 flex-shrink-0 border border-gray-400 overflow-hidden flex items-center justify-center text-xs font-bold">
                      M
                    </div>
                    <div className="flex flex-col gap-1 max-w-[85%]">
                      <div className="text-xs text-white/80">MURAIN</div>

                      {/* Flex Message Simulation Render */}
                      <SimulatedFlexMessage data={currentJSON} />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            {/* å³å´ï¼šJSON ä»£ç¢¼ */}
            <div className="w-1/3 bg-[#1e1e1e] text-gray-300 flex flex-col font-mono text-sm">
              <div className="flex justify-between items-center px-4 py-2 bg-[#2d2d2d] border-b border-[#3d3d3d]">
                <div className="flex items-center gap-2">
                  <span className="text-blue-400">{'{ }'}</span>
                  <span className="font-bold text-gray-100">JSON Payload</span>
                </div>
                <button
                  onClick={handleCopy}
                  className={`flex items-center gap-1 px-3 py-1 rounded text-xs transition-colors ${
                    copied ? 'bg-green-600 text-white' : 'bg-[#3d3d3d] hover:bg-[#4d4d4d] text-white'
                  }`}
                >
                  {copied ? "âœ“ å·²è¤‡è£½" : "è¤‡è£½ JSON"}
                </button>
              </div>
              <div className="flex-1 overflow-auto p-4">
                <pre className="whitespace-pre-wrap break-words text-xs leading-relaxed text-[#9cdcfe]">
                  {JSON.stringify(currentJSON, null, 2)}
                </pre>
              </div>
              <div className="p-4 bg-[#252526] border-t border-[#3d3d3d] text-xs text-gray-500">
                æ­¤ JSON å°æ‡‰ LINE Messaging API çš„ <code>flex</code> é¡å‹å…§å®¹ï¼Œä½ çš„å¾Œç«¯åªè¦æŠŠé€™æ®µæ”¾é€² <code>contents</code> å°±å¯ä»¥ã€‚
              </div>
            </div>
          </div>
        </div>
      );
    };

    // è¼”åŠ©çµ„ä»¶ï¼šè¼¸å…¥æ¡†
    const InputGroup = ({ label, name, value, onChange, prefix }) => (
      <div className="flex flex-col">
        <label className="text-xs font-semibold text-gray-500 mb-1">{label}</label>
        <div className="relative">
          {prefix && <span className="absolute left-3 top-2 text-gray-400 text-sm">{prefix}</span>}
          <input
            type="text"
            name={name}
            value={value}
            onChange={onChange}
            className={`w-full bg-white border border-gray-300 rounded-md py-2 px-3 text-sm focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent ${
              prefix ? 'pl-10' : ''
            }`}
          />
        </div>
      </div>
    );

    // æ ¸å¿ƒçµ„ä»¶ï¼šæ¨¡æ“¬ LINE Flex Message çš„æ¸²æŸ“ (å°‡ JSON è½‰ç‚ºè¦–è¦º)
    const SimulatedFlexMessage = ({ data }) => {
      if (!data || !data.body) return null;

      const { hero, body, footer } = data;

      return (
        <div className="bg-white rounded-lg overflow-hidden shadow-sm animate-fade-in w-full">
          {/* Hero Image */}
          {hero && (
            <div className="w-full relative h-32 overflow-hidden">
              <img src={hero.url} className="w-full h-full object-cover" alt="hero" />
            </div>
          )}

          {/* Body */}
          <div className="p-4 flex flex-col gap-1">
            {body.contents.map((item, idx) => {
              if (item.type === 'text') {
                const fontSize =
                  item.size === 'xl' ? '1.25rem' :
                  item.size === 'xs' ? '0.7rem' : '0.875rem';

                const marginTop =
                  item.margin === 'md' ? '8px' :
                  item.margin === 'lg' ? '16px' : '0';

                return (
                  <div
                    key={idx}
                    style={{
                      color: item.color || '#111111',
                      fontSize,
                      fontWeight: item.weight === 'bold' ? '700' : '400',
                      marginTop,
                      textAlign: item.align || 'left',
                      letterSpacing: item.letterSpacing
                    }}
                  >
                    {item.text}
                  </div>
                );
              }

              if (item.type === 'separator') {
                return <div key={idx} className="h-[1px] bg-gray-200 my-3" />;
              }

              if (item.type === 'box') {
                // åªç°¡å–®è™•ç†ã€Œå‚ç›´ key-value åˆ—è¡¨ã€é€™ç¨®
                const isKVList = Array.isArray(item.contents) &&
                  item.contents.length &&
                  item.contents[0].type === 'box';

                if (isKVList) {
                  return (
                    <div
                      key={idx}
                      className={`flex flex-col gap-2 ${item.backgroundColor ? 'bg-gray-50 p-3 rounded' : 'mt-2'}`}
                    >
                      {item.contents.map((subItem, subIdx) => {
                        if (!subItem.contents || subItem.contents.length < 2) return null;
                        const label = subItem.contents[0].text || '';
                        const value = subItem.contents[1].text || '';
                        return (
                          <div key={subIdx} className="flex text-sm">
                            <span className="text-gray-400 w-20 flex-shrink-0">{label}</span>
                            <span className="text-gray-800 font-medium flex-1 break-all">{value}</span>
                          </div>
                        );
                      })}
                    </div>
                  );
                }
              }

              return null;
            })}
          </div>

          {/* Footer (Buttons) */}
          {footer && (
            <div className="p-4 pt-0 flex flex-col gap-2">
              {footer.contents.map((btn, idx) => (
                <div
                  key={idx}
                  className={`w-full py-2 text-center rounded text-sm font-bold cursor-pointer transition-opacity hover:opacity-90
                    ${btn.style === 'primary'
                      ? 'bg-[#111111] text-white'
                      : btn.style === 'secondary'
                      ? 'bg-gray-200 text-gray-800'
                      : 'text-gray-500'}`}
                >
                  {btn.action.label}
                </div>
              ))}
            </div>
          )}
        </div>
      );
    };

    ReactDOM.createRoot(document.getElementById('root')).render(<FlexMessageTool />);
  </script>
</body>
</html>
