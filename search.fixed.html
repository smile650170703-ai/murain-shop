<!doctype html>
<html lang="zh-Hant">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>商品搜尋</title></head>
<body>
  <h1>搜尋商品</h1>
  <input id="q" placeholder="輸入關鍵字或 barcode" />
  <button id="searchBtn">搜尋</button>
  <pre id="res"></pre>

<script>
const API_ENDPOINT = 'https://murain-api.smile650170703.workers.dev';
document.getElementById('searchBtn').addEventListener('click', async () => {
  const q = document.getElementById('q').value.trim();
  try {
    const res = await fetch(`${API_ENDPOINT}/products/search?q=${encodeURIComponent(q)}`);
    const data = await res.json();
    document.getElementById('res').textContent = JSON.stringify(data,null,2);
  } catch (e) {
    document.getElementById('res').textContent = '搜尋失敗: ' + e.message;
  }
});
</script>
</body>
</html>
