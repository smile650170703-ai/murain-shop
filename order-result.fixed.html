<!doctype html>
<html lang="zh-Hant">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>訂單完成</title></head>
<body>
  <h1>訂單結果</h1>
  <div id="result"></div>
<script>
const API_ENDPOINT = 'https://murain-api.smile650170703.workers.dev';
const p = new URLSearchParams(window.location.search);
const orderId = p.get('order_id') || '';
async function loadOrder() {
  if (!orderId) { document.getElementById('result').textContent = '找不到訂單'; return; }
  try {
    const res = await fetch(`${API_ENDPOINT}/admin/order/${orderId}`);
    const data = await res.json();
    if (data.error) throw new Error(data.error);
    document.getElementById('result').textContent = JSON.stringify(data,null,2);
  } catch (e) {
    document.getElementById('result').textContent = '讀取失敗: ' + e.message;
  }
}
loadOrder();
</script>
</body>
</html>
