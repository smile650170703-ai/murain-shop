<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>è¿·ä½ è€è™æ©Ÿå°éŠæˆ²</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #020617;
      --card: #0f172a;
      --accent: #fbbf24;
      --accent-soft: rgba(251, 191, 36, 0.15);
      --text: #e5e7eb;
      --muted: #9ca3af;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at top, #111827 0, #000 55%);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        "Noto Sans TC", sans-serif;
      color: var(--text);
    }
    .machine {
      width: 320px;
      max-width: 90vw;
      background: linear-gradient(145deg, #020617, #111827);
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
      padding: 20px 20px 16px;
      border: 1px solid #1f2937;
    }
    .title {
      text-align: center;
      font-weight: 700;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      font-size: 14px;
      color: var(--muted);
      margin-bottom: 8px;
    }
    .credit-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 13px;
      margin-bottom: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid #1f2937;
    }
    .credit-label {
      color: var(--muted);
    }
    .credit-value {
      font-weight: 600;
      color: var(--accent);
    }
    .reels {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 8px;
      padding: 10px;
      border-radius: 16px;
      background: radial-gradient(circle at top, #1f2937 0, #020617 70%);
      border: 2px solid #374151;
      margin-bottom: 14px;
    }
    .reel {
      height: 70px;
      border-radius: 12px;
      background: #020617;
      border: 1px solid #4b5563;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.7);
    }
    .btn-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 10px;
    }
    button {
      border: none;
      border-radius: 999px;
      padding: 10px 18px;
      font-size: 14px;
      font-weight: 600;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      cursor: pointer;
      background: radial-gradient(circle at 20% 0, #facc15, #f97316);
      color: #111827;
      box-shadow: 0 10px 18px rgba(248, 181, 0, 0.35);
      transition: transform 0.08s ease, box-shadow 0.08s ease,
        filter 0.08s ease;
      flex: 1;
    }
    button:active {
      transform: translateY(1px) scale(0.98);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.6);
      filter: brightness(0.95);
    }
    button:disabled {
      opacity: 0.5;
      cursor: default;
      box-shadow: none;
    }
    .bet {
      font-size: 12px;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid #4b5563;
      background: #020617;
      color: var(--muted);
      min-width: 86px;
      text-align: center;
    }
    .msg {
      min-height: 20px;
      text-align: center;
      font-size: 12px;
      color: var(--muted);
    }
    .msg.win {
      color: #bef264;
    }
    .msg.lose {
      color: #fca5a5;
    }
    .paytable {
      margin-top: 8px;
      padding-top: 6px;
      border-top: 1px dashed #374151;
      font-size: 11px;
      color: var(--muted);
    }
    .paytable span {
      display: inline-block;
      margin-right: 6px;
    }
  </style>
</head>
<body>
  <div class="machine">
    <div class="title">MURAIN SLOT</div>

    <div class="credit-row">
      <div class="credit-label">CREDITS</div>
      <div class="credit-value" id="credit">100</div>
    </div>

    <div class="reels">
      <div class="reel" id="reel1">ğŸ’</div>
      <div class="reel" id="reel2">ğŸ‹</div>
      <div class="reel" id="reel3">â­</div>
    </div>

    <div class="btn-row">
      <div class="bet">æ¯æ¬¡ä¸‹æ³¨ï¼š<span id="bet">5</span></div>
      <button id="spinBtn">SPIN</button>
    </div>

    <div class="msg" id="msg">å°é½Šä¸‰å€‹ä¸€æ¨£åœ–æ¡ˆå°±æœ‰çï¼</div>

    <div class="paytable">
      <div>è³ ç‡èªªæ˜ï¼ˆ3 å€‹ä¸€æ¨£åœ–æ¡ˆï¼‰ï¼š</div>
      <span>7ï¸âƒ£ Ã—3ï¼š+50</span>
      <span>â­ Ã—3ï¼š+20</span>
      <span>ğŸ’ Ã—3ï¼š+10</span>
      <span>ğŸ‹ Ã—3ï¼š+5</span>
      <span>å…¶ä»–ï¼šæœªä¸­ç</span>
    </div>
  </div>

  <script>
    const symbols = ["ğŸ’", "ğŸ‹", "â­", "7ï¸âƒ£", "ğŸ‡"];
    const reelEls = [
      document.getElementById("reel1"),
      document.getElementById("reel2"),
      document.getElementById("reel3"),
    ];
    const creditEl = document.getElementById("credit");
    const msgEl = document.getElementById("msg");
    const spinBtn = document.getElementById("spinBtn");
    const betEl = document.getElementById("bet");

    let credit = 100;
    const bet = 5;
    let spinning = false;
    let timers = [];

    betEl.textContent = bet;

    function randomSymbol() {
      const idx = Math.floor(Math.random() * symbols.length);
      return symbols[idx];
    }

    function setCredit(val) {
      credit = Math.max(0, val);
      creditEl.textContent = credit;
    }

    function clearTimers() {
      for (const t of timers) clearInterval(t);
      timers = [];
    }

    function checkWin(results) {
      msgEl.className = "msg";
      if (results[0] === results[1] && results[1] === results[2]) {
        let reward = 0;
        switch (results[0]) {
          case "7ï¸âƒ£":
            reward = 50;
            break;
          case "â­":
            reward = 20;
            break;
          case "ğŸ’":
            reward = 10;
            break;
          case "ğŸ‹":
            reward = 5;
            break;
          default:
            reward = 8;
        }
        setCredit(credit + reward);
        msgEl.classList.add("win");
        msgEl.textContent = `ä¸­çï¼${results[0]} Ã—3ï¼Œè´å¾— ${reward} é»æ•¸ ğŸ‰`;
      } else {
        msgEl.classList.add("lose");
        msgEl.textContent = "æœªä¸­çï½å†è©¦ä¸€æ¬¡ã€‚";
      }
    }

    function spin() {
      if (spinning) return;

      if (credit < bet) {
        msgEl.className = "msg lose";
        msgEl.textContent = "é»æ•¸ä¸è¶³ï¼Œç„¡æ³•ä¸‹æ³¨ã€‚";
        return;
      }

      spinning = true;
      spinBtn.disabled = true;
      msgEl.className = "msg";
      msgEl.textContent = "æ—‹è½‰ä¸­â€¦";

      setCredit(credit - bet);

      clearTimers();
      const results = [];

      reelEls.forEach((el, index) => {
        let count = 0;
        const maxTicks = 12 + index * 4; // å¾Œé¢çš„è½‰ä¹…ä¸€é»
        const timer = setInterval(() => {
          el.textContent = randomSymbol();
          count++;
          if (count >= maxTicks) {
            clearInterval(timer);
            const finalSymbol = randomSymbol();
            el.textContent = finalSymbol;
            results[index] = finalSymbol;

            if (results.filter((r) => r !== undefined).length === 3) {
              spinning = false;
              spinBtn.disabled = false;
              checkWin(results);
            }
          }
        }, 80);
        timers.push(timer);
      });
    }

    spinBtn.addEventListener("click", spin);
  </script>
</body>
</html>
